# ğŸ¨ Architecture & Implementation Diagram

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND (React)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      UserLayout.jsx                      â”‚  â”‚
â”‚  â”‚  (Main layout wrapper with header)                       â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚              Header Navigation                     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  [Logo] [Categories] [Search] â† ADD HERE â†’         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                            [CartDropdown] [Other]   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  CartDropdown Component (NEW)              â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ Header: Blue Gradient              â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ ğŸ›’ Giá» hÃ ng | [5 sáº£n pháº©m]        â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ ScrollArea                         â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚[IMG] Product 1                 â”‚â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚[IMG] Product 2                 â”‚â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚[IMG] Product 3                 â”‚â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚[IMG] Product 4                 â”‚â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚[IMG] Product 5                 â”‚â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚+0 more...                      â”‚â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ Subtotal: 33,970,000 VND          â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ [Xem giá» hÃ ng] [Thanh toÃ¡n]       â”‚   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                            â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Logic:                                   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - useCartItemStore (Zustand)            â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - Format prices (VND)                   â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - Handle images (fallback)              â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - Calculate subtotal                    â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - Navigation (Link)                     â”‚â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                              â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Cart Page (Existing)                    â”‚  â”‚
â”‚  â”‚  /cart - Full table view with images                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Other Pages & Routes                       â”‚  â”‚
â”‚  â”‚  /products, /checkout, /profile, etc.               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         State Management (Zustand)     â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚  useCartItemStore                      â”‚
        â”‚  â€¢ cartItems: []                       â”‚
        â”‚  â€¢ addToCart()                         â”‚
        â”‚  â€¢ updateQuantity()                    â”‚
        â”‚  â€¢ removeItem()                        â”‚
        â”‚  â€¢ fetchCartItems(cartId)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          Backend API                   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚  GET  /api/cart/:id/items              â”‚
        â”‚  POST /api/cart-items                  â”‚
        â”‚  PUT  /api/cart-items/:id              â”‚
        â”‚  DELETE /api/cart-items/:id            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
User Action
    â”‚
    â”œâ”€â†’ Add Product to Cart
    â”‚       â”‚
    â”‚       â”œâ”€â†’ API: POST /cart-items
    â”‚       â”‚       â”‚
    â”‚       â”œâ”€â†’ Zustand: updateState()
    â”‚       â”‚       â”‚
    â”‚       â”œâ”€â†’ cartItems updated
    â”‚       â”‚
    â”‚       â””â”€â†’ UI: Re-render components
    â”‚
    â”œâ”€â†’ Click Cart Icon
    â”‚       â”‚
    â”‚       â”œâ”€â†’ CartDropdown Opens
    â”‚       â”‚       â”‚
    â”‚       â”œâ”€â†’ Read: useCartItemStore
    â”‚       â”‚       â”‚
    â”‚       â”œâ”€â†’ Map: cartItems[0:5]
    â”‚       â”‚       â”‚
    â”‚       â”œâ”€â†’ Render: Images + Info
    â”‚       â”‚
    â”‚       â””â”€â†’ Show: Dropdown Menu
    â”‚
    â”œâ”€â†’ Click "Xem giá» hÃ ng"
    â”‚       â”‚
    â”‚       â”œâ”€â†’ Navigate: /cart
    â”‚       â”‚       â”‚
    â”‚       â”œâ”€â†’ Load: Cart Page
    â”‚       â”‚       â”‚
    â”‚       â”œâ”€â†’ Fetch: cartItems (full)
    â”‚       â”‚
    â”‚       â””â”€â†’ Render: Table (all items)
    â”‚
    â””â”€â†’ Click "Thanh toÃ¡n"
            â”‚
            â”œâ”€â†’ Navigate: /checkout
            â”‚       â”‚
            â”œâ”€â†’ Load: Checkout Page
            â”‚
            â””â”€â†’ Render: Order summary
```

## Component Hierarchy

```
App
â””â”€â”€ Router
    â”œâ”€â”€ /
    â”‚   â””â”€â”€ UserLayout
    â”‚       â”œâ”€â”€ Header
    â”‚       â”‚   â”œâ”€â”€ Logo
    â”‚       â”‚   â”œâ”€â”€ Categories Menu
    â”‚       â”‚   â”œâ”€â”€ Search
    â”‚       â”‚   â”œâ”€â”€ CartDropdown â† NEW
    â”‚       â”‚   â”‚   â”œâ”€â”€ DropdownMenuTrigger
    â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Cart Icon Button
    â”‚       â”‚   â”‚   â”‚       â””â”€â”€ Badge (count)
    â”‚       â”‚   â”‚   â””â”€â”€ DropdownMenuContent
    â”‚       â”‚   â”‚       â”œâ”€â”€ Header (gradient)
    â”‚       â”‚   â”‚       â”œâ”€â”€ ScrollArea
    â”‚       â”‚   â”‚       â”‚   â””â”€â”€ ProductItem List
    â”‚       â”‚   â”‚       â”‚       â”œâ”€â”€ Image
    â”‚       â”‚   â”‚       â”‚       â”œâ”€â”€ Name
    â”‚       â”‚   â”‚       â”‚       â”œâ”€â”€ Qty
    â”‚       â”‚   â”‚       â”‚       â””â”€â”€ Price
    â”‚       â”‚   â”‚       â”œâ”€â”€ Separator
    â”‚       â”‚   â”‚       â”œâ”€â”€ Subtotal
    â”‚       â”‚   â”‚       â””â”€â”€ Action Buttons
    â”‚       â”‚   â”œâ”€â”€ Build PC
    â”‚       â”‚   â”œâ”€â”€ Coupons
    â”‚       â”‚   â”œâ”€â”€ Notifications
    â”‚       â”‚   â””â”€â”€ User Menu
    â”‚       â”œâ”€â”€ Categories Nav
    â”‚       â”œâ”€â”€ Main Content (Outlet)
    â”‚       â””â”€â”€ Footer
    â”œâ”€â”€ /cart
    â”‚   â””â”€â”€ Cart Page
    â”‚       â”œâ”€â”€ Cart Table (with images)
    â”‚       â””â”€â”€ Order Summary
    â”œâ”€â”€ /checkout
    â”‚   â””â”€â”€ Checkout Page
    â””â”€â”€ ...
```

## State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   useCartItemStore                      â”‚
â”‚                    (Zustand Store)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  State:                                                 â”‚
â”‚  â”œâ”€â”€ cartItems: []                                      â”‚
â”‚  â”œâ”€â”€ loading: false                                     â”‚
â”‚  â””â”€â”€ error: null                                        â”‚
â”‚                                                         â”‚
â”‚  Actions:                                               â”‚
â”‚  â”œâ”€â”€ addToCart(data)                                    â”‚
â”‚  â”œâ”€â”€ fetchCartItems(cartId)                             â”‚
â”‚  â”œâ”€â”€ updateQuantity(itemId, qty)                        â”‚
â”‚  â”œâ”€â”€ removeItem(itemId)                                 â”‚
â”‚  â””â”€â”€ reset()                                            â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘                                    â†‘
         â”‚                                    â”‚
    Used by:                              Updates:
    â€¢ UserLayout                          â€¢ API calls
    â€¢ CartDropdown                        â€¢ User actions
    â€¢ Cart Page                           â€¢ Real-time sync
    â€¢ Checkout Page
```

## Image Processing Pipeline

```
Product Added to Cart
        â”‚
        â”œâ”€â†’ API Response
        â”‚       â””â”€â†’ {
        â”‚           product_name,
        â”‚           image_url,      â† PRIMARY SOURCE
        â”‚           price,
        â”‚           quantity
        â”‚       }
        â”‚
        â”œâ”€â†’ Zustand Store
        â”‚       â””â”€â†’ cartItems.push(item)
        â”‚
        â”œâ”€â†’ CartDropdown Component
        â”‚       â”‚
        â”‚       â”œâ”€â†’ Extract imageUrl
        â”‚       â”‚       â”‚
        â”‚       â”‚       â”œâ”€â†’ Try: item.image_url
        â”‚       â”‚       â”œâ”€â†’ Try: item.imageUrl
        â”‚       â”‚       â””â”€â†’ Fallback: placeholder
        â”‚       â”‚
        â”‚       â”œâ”€â†’ Render: <img src={imageUrl} />
        â”‚       â”‚
        â”‚       â””â”€â†’ onError Handler
        â”‚               â””â”€â†’ img.src = placeholder
        â”‚
        â””â”€â†’ Display
                â”œâ”€â†’ Size: 80x80px
                â”œâ”€â†’ Style: rounded-md
                â”œâ”€â†’ Border: gray-200
                â””â”€â†’ Format: JPG/PNG/WebP
```

## File Structure

```
BATechZone/
â”œâ”€â”€ fe/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CartDropdown.jsx          â† NEW FILE
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ button.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dropdown-menu.jsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ scroll-area.jsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”‚   â””â”€â”€ UserLayout.jsx                â† MODIFIED
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Cart.jsx                  â† UNCHANGED (has images)
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â”œâ”€â”€ useCartItemStore.js
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”œâ”€â”€ be/ (Backend)
â”‚   â””â”€â”€ ...
â”œâ”€â”€ CART_IMAGES_IMPLEMENTATION.md             â† NEW
â”œâ”€â”€ CART_IMAGES_GUIDE.md                      â† NEW
â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md                 â† NEW
â”œâ”€â”€ QUICK_START_CART_IMAGES.md                â† NEW
â””â”€â”€ ...
```

## Technology Stack

```
Frontend Framework
â”œâ”€â”€ React 18+
â”œâ”€â”€ React Router (Navigation)
â””â”€â”€ Vite (Build Tool)

State Management
â””â”€â”€ Zustand
    â””â”€â”€ useCartItemStore

UI Components
â”œâ”€â”€ Radix UI
â”‚   â”œâ”€â”€ DropdownMenu
â”‚   â”œâ”€â”€ ScrollArea
â”‚   â”œâ”€â”€ Badge
â”‚   â”œâ”€â”€ Button
â”‚   â””â”€â”€ ...
â””â”€â”€ Custom Components
    â””â”€â”€ CartDropdown

Styling
â”œâ”€â”€ Tailwind CSS
â””â”€â”€ Lucide React Icons

HTTP
â””â”€â”€ Axios (API calls)
```

## Integration Points

```
UserLayout (MODIFIED)
    â”‚
    â”œâ”€â†’ Import CartDropdown
    â”‚   â””â”€â†’ CartDropdown.jsx (NEW)
    â”‚       â”œâ”€â†’ Uses: useCartItemStore
    â”‚       â”œâ”€â†’ Uses: Radix UI components
    â”‚       â”œâ”€â†’ Uses: Tailwind CSS
    â”‚       â””â”€â†’ Uses: Lucide Icons
    â”‚
    â””â”€â†’ Keep existing
        â”œâ”€â†’ useAuthStore
        â”œâ”€â†’ useCategoryStore
        â”œâ”€â†’ useNotificationStore
        â”œâ”€â†’ useCouponStore
        â””â”€â†’ Other components

Cart Page (UNCHANGED)
    â””â”€â†’ Already has image display
        â”œâ”€â†’ Uses: useCartItemStore
        â””â”€â†’ Displays: Full table with images

Backend API
    â””â”€â†’ Provides:
        â”œâ”€â†’ /api/cart/:id/items
        â”œâ”€â†’ image_url in response
        â””â”€â†’ Other cart operations
```

## User Journey

```
START
  â”‚
  â”œâ”€â†’ Browse Products
  â”‚       â”‚
  â”‚       â””â”€â†’ Click "Add to Cart"
  â”‚           â”‚
  â”‚           â”œâ”€â†’ API: POST /cart-items
  â”‚           â”‚
  â”‚           â””â”€â†’ State: cartItems += 1
  â”‚
  â”œâ”€â†’ Continue Shopping / View Cart
  â”‚       â”‚
  â”‚       â”œâ”€â†’ Option A: Click Cart Icon
  â”‚       â”‚   â”‚
  â”‚       â”‚   â”œâ”€â†’ CartDropdown Opens
  â”‚       â”‚   â”‚
  â”‚       â”‚   â”œâ”€â†’ See Products with Images
  â”‚       â”‚   â”‚
  â”‚       â”‚   â”œâ”€â†’ Choose Action:
  â”‚       â”‚   â”‚   â”œâ”€â†’ "Xem giá» hÃ ng" â†’ /cart
  â”‚       â”‚   â”‚   â””â”€â†’ "Thanh toÃ¡n" â†’ /checkout
  â”‚       â”‚   â”‚
  â”‚       â”‚   â””â”€â†’ Navigate
  â”‚       â”‚
  â”‚       â””â”€â†’ Option B: Go to /cart
  â”‚           â”‚
  â”‚           â”œâ”€â†’ See Full Cart Table
  â”‚           â”‚
  â”‚           â”œâ”€â†’ Adjust Quantities
  â”‚           â”‚
  â”‚           â””â”€â†’ Click "Thanh toÃ¡n" â†’ /checkout
  â”‚
  â”œâ”€â†’ Review Cart Items
  â”‚       â”‚
  â”‚       â”œâ”€â†’ View Images âœ“
  â”‚       â”œâ”€â†’ View Names âœ“
  â”‚       â”œâ”€â†’ View Prices âœ“
  â”‚       â”œâ”€â†’ View Quantities âœ“
  â”‚       â”œâ”€â†’ View Subtotals âœ“
  â”‚       â”‚
  â”‚       â””â”€â†’ Decide: Continue or Checkout
  â”‚
  â”œâ”€â†’ Checkout
  â”‚       â”‚
  â”‚       â”œâ”€â†’ /checkout page
  â”‚       â”‚
  â”‚       â”œâ”€â†’ Enter Shipping Info
  â”‚       â”‚
  â”‚       â”œâ”€â†’ Select Payment Method
  â”‚       â”‚
  â”‚       â””â”€â†’ Confirm Order
  â”‚
  â””â”€â†’ END (Order Placed)
```

---

**Architecture Version**: 1.0  
**Last Updated**: November 22, 2025  
**Status**: Complete & Documented âœ…
